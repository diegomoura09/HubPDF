Diagnostique e corrija a publicação do meu app FastAPI (HubPDF) no Replit. O deploy diz “Deployment successful”, mas não consigo acessar a URL pública.

Ajustes/Verificações obrigatórios (sem mudar layout ou páginas institucionais):

1) HEALTHCHECK
- Crie um endpoint GET /healthz que retorne 200 e JSON {"ok": true}.
- Exemplo:
  from fastapi import FastAPI
  app = FastAPI()
  @app.get("/healthz")
  async def healthz():
      return {"ok": True}

- Configure o deployment para usar /healthz como health check (se houver campo de health check; caso não, tudo bem – o endpoint já ajuda).

2) ROTA RAIZ
- Garanta que GET "/" responda 200.
- Se a home do produto é /home, faça redirect 302 de "/" -> "/home".
  Exemplo:
  from fastapi.responses import RedirectResponse
  @app.get("/")
  async def root():
      return RedirectResponse(url="/home", status_code=302)

3) UVICORN/RUN COMMAND
- Confirme que o comando de execução do deployment é:
  uvicorn main:app --host 0.0.0.0 --port 5000
- Não alterar portas diferentes de 5000.

4) CORS / ALLOWED ORIGINS
- Se houver CORS configurado, inclua:
  https://hubpdf.replit.app
  e http://hubpdf.replit.app
- Permitir também origem "*” provisoriamente, apenas para validar se o problema é CORS (depois voltar ao domínio correto).

5) ESTÁTICOS E TEMPLATES
- Verifique mounts de arquivos estáticos e paths de templates para ambiente de produção (paths relativos quebram).
- Se necessário, use:
  from fastapi.staticfiles import StaticFiles
  app.mount("/static", StaticFiles(directory="static"), name="static")
- Corrigir referências quebradas (ex: <link href="/static/...">).

6) LOGS E TESTE INTERNO
- Adicionar log simples na inicialização indicando "App started" e o valor de NODE_ENV/ENV.
- Testar internamente com requests para "/" e "/healthz" e mostrar o status code.
- Abrir os logs ao acessar a URL pública para ver chamadas chegando (ou não).

7) RESUMO
- Mostrar DIFF dos arquivos alterados.
- Confirmar acesso à URL:
  https://hubpdf.replit.app/
  e a:
  https://hubpdf.replit.app/healthz
- Não alterar menus, textos institucionais, ou páginas /about /terms /privacy /contact.
Se quiser fazer na mão (bem rápido)
FastAPI – main.py
python
Copiar código
from fastapi import FastAPI
from fastapi.responses import RedirectResponse
from fastapi.staticfiles import StaticFiles

app = FastAPI()

@app.get("/healthz")
def healthz():
    return {"ok": True}

@app.get("/")
def root():
    return RedirectResponse(url="/home", status_code=302)

# Se usar estáticos:
# app.mount("/static", StaticFiles(directory="static"), name="static")
Comando do deployment
nginx
Copiar código
uvicorn main:app --host 0.0.0.0 --port 5000
Depois disso, re-Publish e teste:

https://hubpdf.replit.app/healthz → deve retornar {"ok": true}

https://hubpdf.replit.app/ → deve redirecionar para /home